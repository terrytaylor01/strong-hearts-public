import React from "react";
import { ThemeContext } from "../App";
import { Link } from "react-router-dom";
import PreviewListingCard from "./PreviewListingCard";
import PreviewListingCardSkeleton from "./skeletons/PreviewListingCardSkeleton";

export default function AdoptCarousel({ fetchQuery, viewAllQuery }) {
  const [isLeftArrowVisible, setIsLeftArrowVisible] = React.useState(false);
  const [isRightArrowVisible, setIsRightArrowVisible] = React.useState(true);

  const [animalPrData, setAnimalPrData] = React.useState();

  React.useEffect(() => {
    setIsRightArrowVisible(true);
    fetchListings();
  }, []);

  const [ScrollLeft, setScrollLeft] = React.useState(0);

  const theme = React.useContext(ThemeContext);

  React.useEffect(() => {
    const onScroll = (e) => {
      setScrollLeft(e.target.scrollLeft);
    };
    document.getElementById("slider").addEventListener("scroll", onScroll);

    let sliderWidth =
      document.getElementById("slider-content").offsetWidth - window.innerWidth;

    if (ScrollLeft > 10) {
      if (!isLeftArrowVisible) {
        setIsLeftArrowVisible(true);
      }
    } else {
      setIsLeftArrowVisible(false);
    }

    if (ScrollLeft > sliderWidth + sliderWidth * 0.02) {
      if (isRightArrowVisible) {
        setIsRightArrowVisible(false);
      }
    } else {
      setIsRightArrowVisible(true);
    }

    return () => window.removeEventListener("scroll", onScroll);
  }, [ScrollLeft]);

  function slide(isLeft, slideAmount) {
    console.log("Slide right");
    var slider = document.getElementById("slider");

    isLeft
      ? (slider.scrollLeft = slider.scrollLeft - slideAmount)
      : (slider.scrollLeft = slider.scrollLeft + slideAmount);
  }

  let listings = [];

  const BASE_PETRESCUE_API_URL_CAROUSEL = "/api/carousel?";

  const fetchListings = async () => {
    try {
      const response = await fetch(
        BASE_PETRESCUE_API_URL_CAROUSEL + fetchQuery,
        {
          method: "GET",
          headers: {
            "Content-Type": "application/json",
          },
        },
      );

      if (!response.ok) {
        throw new Error("Petrescue response was not ok");
      }

      const data = await response.json();
      setAnimalPrData(data.listings);
      console.log(data.listings);
    } catch (error) {
      console.error("Error:", error);
    }
  };

  React.useEffect(() => setIsRightArrowVisible(true), [animalPrData]);

  listings = animalPrData?.map((listing) => {
    var id = listing.id;
    var breed = listing.breeds_display;
    console.log(breed);
    if (breed === "") {
    } else {
      breed = breed + " - ";
    }
    // const name =  listing.name.replace(/ .*/, "") ;
    var name = listing.name.split("-")[0];
    if (name.length >= 15) {
      name = name.slice(0, 15) + "...";
    }
    const species = listing.species_name;
    const gender =
      listing.gender.charAt(0).toUpperCase() + listing.gender.slice(1);
    const photo = listing.photos[0].large_340.replace(",w_340", "");
    return (
      <PreviewListingCard
        id={id}
        name={name}
        breed={breed}
        photo={photo}
        gender={gender}
        species={species}
      />
    );
  });

  return (
    <div className="relative ml-[10%] pt-4 md:pt-14">
      {theme === "theme-cats" && (
        <div className="absolute right-0 top-0 z-0 w-[36rem]">
          <svg
            width="100%"
            height="100%"
            viewBox="0 0 461 369"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M440.773 23.095L477.784 73.0253C480.318 76.4437 479.588 81.2525 476.153 83.7659C472.719 86.2794 467.88 85.544 465.346 82.1256L428.337 32.1954C415.392 14.7325 390.589 10.9676 373.045 23.8027C364.629 29.9596 359.211 39.1454 357.769 49.6157C356.334 60.1026 359.032 70.5842 365.364 79.1277L413.936 144.655C431.941 168.944 426.792 203.19 402.459 220.993C378.058 238.846 343.558 233.609 325.553 209.319L308.138 185.825C311.281 202.586 311.619 219.927 308.986 237.272C302.8 278.025 281.015 313.915 247.644 338.331C178.755 388.732 81.3571 373.949 30.5272 305.375C5.90437 272.157 -4.24944 231.419 1.93649 190.665C8.12229 149.912 29.9074 114.022 63.2783 89.6064C96.6492 65.191 137.611 55.1727 178.62 61.3973C219.628 67.6219 255.773 89.344 280.396 122.562C280.974 123.343 281.538 124.132 282.1 124.922L337.992 200.22C350.937 217.682 375.739 221.447 393.283 208.613C410.758 195.827 414.444 171.219 401.5 153.755L352.928 88.2281C344.194 76.4454 340.474 61.9878 342.455 47.5178C344.466 32.9027 352.062 20.0603 363.869 11.4228C388.268 -6.43117 422.768 -1.1945 440.773 23.095ZM282.736 156.612C278.381 174.734 271.742 192.016 262.997 208.118C263.126 208.503 263.234 208.899 263.302 209.312C269.007 244.089 266.014 279.152 254.698 312.074C275.573 291.297 289.209 264.551 293.702 234.952C297.803 207.93 293.917 180.921 282.736 156.612ZM168.736 298.006C166.476 316.852 161.696 335.271 154.479 352.883C162.804 352.967 171.152 352.309 179.422 350.908C179.482 350.78 179.539 350.65 179.606 350.524C193.041 325.275 200.193 302.32 202.168 277.718C201.947 277.881 201.732 278.049 201.511 278.211C191.083 285.84 180.115 292.441 168.736 298.006ZM218.206 264.683C218.206 264.702 218.209 264.72 218.209 264.739C218.004 293.102 212.059 318.651 199.123 346.075C209.914 342.576 220.409 337.716 230.356 331.451C244.748 300.503 252.15 263.577 249.976 229.045C240.836 241.982 230.207 253.935 218.206 264.683ZM138.152 351.774C144.723 336.849 149.388 321.265 152.073 305.291C124.37 316.027 94.68 320.868 64.5782 319.425C85.7167 337.44 111.439 348.404 138.152 351.774ZM47.8522 302.486C99.2892 309.407 150.469 296.459 192.334 265.829C234.516 234.966 262.618 187.373 271.013 135.966C270.02 134.518 269.008 133.08 267.957 131.662C263.486 125.631 258.587 120.029 253.321 114.869C229.803 215.887 136.174 285.356 32.0476 279.089C35.2377 285.019 38.8784 290.762 42.9644 296.275C44.5432 298.405 46.1768 300.471 47.8522 302.486ZM218.893 90.1611C205.877 135.206 180.804 172.936 146.031 199.627C109.794 227.442 65.6319 241.069 17.9706 239.238C19.4906 247.366 21.7372 255.344 24.7072 263.088C127.335 273.475 220.839 204.1 239.961 103.337C233.342 98.3223 226.298 93.9112 218.893 90.1611ZM120.706 79.2245C144.48 94.6604 165.009 114.708 180.932 137.994C186.857 128.515 192.063 118.371 196.471 107.622C184.589 95.0639 171.076 84.1032 156.248 74.9777C144.181 74.8619 132.254 76.2992 120.706 79.2245ZM188.213 78.9201C193.097 82.9339 197.801 87.1579 202.306 91.5858C203.114 89.0576 203.874 86.4975 204.598 83.9127C199.274 81.9281 193.805 80.2598 188.213 78.9201ZM109.966 147.485C97.3242 132.043 82.3528 118.535 65.4838 107.441C42.6097 126.468 26.709 151.903 19.6738 180.63C54.9577 181.63 87.9982 169.536 109.966 147.485ZM16.8159 195.889C15.5944 205.233 15.3195 214.564 15.9731 223.771C60.9663 226.026 102.386 212.877 135.54 187.839C130.886 178.057 125.462 168.722 119.336 159.908C93.8776 184.442 56.3973 197.615 16.8159 195.889ZM78.5948 97.743C108.032 118.211 131.779 145.652 147.771 177.723C156.411 169.913 164.36 161.215 171.519 151.702C154.09 124.421 129.958 101.591 101.549 85.5937C93.6001 88.8972 85.9178 92.9523 78.5948 97.743Z"
              fill="#5C4B3B"
              fillOpacity="0.1"
            />
          </svg>
        </div>
      )}
      {theme === "theme-dogs" && (
        <div className="absolute -top-20 right-0 z-0 w-[36rem]">
          <svg
            width="100%"
            height="100%"
            viewBox="0 0 618 608"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clipPath="url(#clip0_45_351)">
              <g clipPath="url(#clip1_45_351)">
                <path
                  d="M654.436 432.231C617.203 441.106 578.272 421.965 557.786 386.051L267.429 455.257C265.319 496.557 239.233 531.194 202 540.069C154.894 551.296 106.454 517.753 93.9453 465.273C88.8076 443.718 90.5979 421.138 98.7339 401.464C82.5911 387.545 70.8153 368.23 65.6777 346.675C53.1693 294.196 81.2974 242.402 128.377 231.18C165.61 222.306 204.515 241.453 225.027 277.361L515.385 208.154C517.521 166.849 543.581 132.218 580.813 123.343C627.893 112.122 676.333 145.666 688.842 198.145C693.979 219.7 692.209 242.244 684.053 261.954C700.216 275.837 711.972 295.188 717.109 316.743C729.618 369.223 701.516 421.01 654.436 432.231Z"
                  fill="black"
                  fillOpacity="0.1"
                />
              </g>
            </g>
            <defs>
              <clipPath id="clip0_45_351">
                <rect
                  width="535.249"
                  height="587.897"
                  fill="white"
                  transform="matrix(0.150069 -0.988676 -0.988676 -0.150069 581.915 607.412)"
                />
              </clipPath>
              <clipPath id="clip1_45_351">
                <rect
                  width="640.621"
                  height="317.541"
                  fill="white"
                  transform="translate(43 251.53) rotate(-13.4062)"
                />
              </clipPath>
            </defs>
          </svg>
        </div>
      )}

      {theme === "theme-buns" && (
        <div className="absolute -right-40 -top-10 z-0 lg:w-[30%]">
          <svg
            fill="#000000"
            fillOpacity={0.1}
            height="100%"
            width="100%"
            version="1.1"
            id="Capa_1"
            xmlns="http://www.w3.org/2000/svg"
            xmlnsXlink="http://www.w3.org/1999/xlink"
            viewBox="0 0 59.015 59.015"
            xmlSpace="preserve"
          >
            <g>
              <path
                d="M57.756,26.999c2.034-2.607,1.153-5.051,0.458-5.904c-1.52-2.286-3.618-3.695-6.236-4.188
		c-0.207-0.039-0.418-0.052-0.627-0.078c0.27-0.227,0.529-0.455,0.773-0.685c1.757-1.663,2.6-3.44,2.505-5.282
		c-0.146-2.819-2.484-4.646-2.584-4.723l-0.047-0.034c-4.119-2.797-8.743,0.588-8.938,0.734l-0.176,0.168
		c-0.072,0.088-0.141,0.191-0.212,0.282c-0.452-2.319-1.705-4.163-3.73-5.479c-0.475-0.38-3.506-2.62-7.043-0.823
		c-0.438,0.223-0.834,0.511-1.208,0.827c-1.036-0.293-2.188-0.381-3.33,0.023c-1.552,0.55-2.568,1.871-2.718,3.535
		c-0.16,1.769,0.732,3.482,2.271,4.365c1.409,0.808,3.097,2.304,4.665,5.047c-0.933-0.064-1.835,0.035-2.687,0.342
		C23.811,16.951,3.715,46.393,0.15,55.954c-0.3,0.806-0.144,1.649,0.409,2.203c0.367,0.367,0.862,0.56,1.39,0.56
		c0.267,0,0.542-0.049,0.813-0.15c9.629-3.59,39.191-23.586,40.986-28.585c0.245-0.683,0.361-1.399,0.37-2.136
		c2.742,1.343,4.192,2.65,4.948,3.688c1.102,1.512,2.879,2.446,4.651,2.446c0.019,0,0.038,0,0.057,0
		c1.477-0.017,2.788-0.695,3.598-1.86c1.204-1.734,0.777-3.606,0.135-4.83C57.592,27.192,57.68,27.097,57.756,26.999z
		 M56.596,22.267c0.114,0.149,1.049,1.483-0.3,3.347c-0.042-0.05-0.086-0.095-0.129-0.144c-0.073-0.084-0.146-0.165-0.22-0.247
		c-0.189-0.211-0.379-0.414-0.572-0.609c-0.059-0.06-0.118-0.12-0.177-0.178c-3.13-3.066-6.698-4.031-9.936-4.031
		c-1.148,0-2.255,0.121-3.286,0.31c0.111-0.05,0.226-0.1,0.339-0.149c0.157-0.069,0.314-0.138,0.475-0.206
		c0.173-0.073,0.348-0.144,0.526-0.214c0.148-0.059,0.3-0.116,0.451-0.173c0.278-0.104,0.56-0.205,0.847-0.301
		c0.179-0.06,0.358-0.12,0.539-0.175c0.175-0.054,0.353-0.105,0.53-0.155c0.197-0.055,0.395-0.106,0.594-0.155
		c0.195-0.048,0.391-0.095,0.588-0.137c0.276-0.059,0.553-0.111,0.831-0.155c0.15-0.024,0.3-0.044,0.45-0.063
		c1.174-0.152,2.349-0.167,3.466,0.042C53.708,19.269,55.323,20.358,56.596,22.267z M44.349,8.377
		c0.582-0.397,3.809-2.431,6.496-0.637c0.179,0.147,1.696,1.45,1.787,3.226c0.063,1.23-0.57,2.484-1.883,3.727
		c-0.769,0.728-1.705,1.448-2.783,2.141c-0.133,0.017-0.265,0.044-0.398,0.064c-0.28,0.042-0.559,0.084-0.836,0.138
		c-0.192,0.038-0.38,0.083-0.57,0.126c-0.219,0.05-0.437,0.099-0.653,0.156c-0.201,0.052-0.399,0.108-0.597,0.166
		c-0.199,0.058-0.396,0.117-0.592,0.179c-0.203,0.065-0.404,0.13-0.603,0.199c-0.179,0.062-0.354,0.126-0.529,0.191
		c-0.206,0.076-0.412,0.151-0.613,0.231c-0.136,0.054-0.267,0.11-0.401,0.165c-0.869,0.359-1.678,0.736-2.403,1.106
		c-0.01,0.005-0.022,0.011-0.032,0.016c0.613-1.136,1.257-2.483,1.805-3.936c0.034-0.091,0.071-0.179,0.104-0.271
		c0.094-0.259,0.18-0.523,0.267-0.788c0.047-0.144,0.097-0.287,0.141-0.433c0.077-0.251,0.144-0.504,0.212-0.759
		c0.043-0.162,0.087-0.323,0.126-0.486c0.06-0.251,0.112-0.503,0.162-0.756c0.033-0.168,0.065-0.335,0.093-0.504
		c0.042-0.251,0.076-0.502,0.105-0.753c0.01-0.088,0.028-0.175,0.037-0.263C43.306,9.775,43.818,9.037,44.349,8.377z M32.843,2.752
		c2.549-1.269,4.77,0.552,4.86,0.627c0.035,0.03,0.071,0.057,0.109,0.082c1.609,1.033,2.56,2.422,2.906,4.245
		c0.148,0.778,0.17,1.594,0.109,2.424l-0.007,0.09c-0.13,1.575-0.579,3.198-1.149,4.707c0.041-0.959-0.005-1.947-0.167-2.941
		c-0.005-0.031-0.012-0.061-0.017-0.091c-0.037-0.215-0.078-0.43-0.126-0.646c-0.029-0.132-0.063-0.264-0.097-0.395
		c-0.028-0.108-0.056-0.217-0.088-0.325c-0.051-0.179-0.106-0.357-0.166-0.535c-0.016-0.048-0.034-0.097-0.051-0.145
		C38.469,8.45,37.693,7.08,36.54,5.8c-0.032-0.035-0.064-0.071-0.096-0.106c-0.165-0.179-0.334-0.356-0.514-0.53
		c-0.087-0.085-0.18-0.169-0.271-0.253c-0.139-0.128-0.275-0.257-0.423-0.382c-0.269-0.231-0.55-0.459-0.849-0.682
		c-0.002-0.002-0.009-0.008-0.012-0.01c-0.08-0.07-0.256-0.215-0.507-0.403c-0.002-0.001-0.003-0.003-0.005-0.004
		c-0.256-0.191-0.589-0.42-0.985-0.655C32.865,2.766,32.855,2.759,32.843,2.752z M27.91,8.002c-0.864-0.495-1.364-1.457-1.275-2.45
		c0.038-0.415,0.249-1.424,1.394-1.829c0.323-0.115,0.656-0.164,0.989-0.164c0.53,0,1.06,0.128,1.559,0.313
		c0,0,0.002,0.001,0.003,0.001c0.013,0.005,0.025,0.011,0.038,0.016c0.172,0.065,0.341,0.135,0.503,0.212
		c0.08,0.038,0.155,0.078,0.233,0.117c0.13,0.067,0.259,0.135,0.379,0.204c0.047,0.027,0.094,0.054,0.139,0.081
		c0.536,0.323,0.949,0.643,1.152,0.808c0.039,0.033,0.063,0.054,0.068,0.057c0.023,0.021,0.047,0.04,0.072,0.059
		c0.436,0.323,0.837,0.664,1.21,1.018c0.106,0.101,0.193,0.206,0.293,0.308c0.255,0.26,0.503,0.524,0.726,0.799
		c0.098,0.121,0.182,0.244,0.272,0.366c0.204,0.276,0.398,0.558,0.571,0.849c0.068,0.114,0.133,0.229,0.195,0.344
		c0.188,0.347,0.359,0.703,0.504,1.07c0.023,0.057,0.049,0.114,0.071,0.171c0.703,1.876,0.863,4.005,0.467,6.378
		c-0.275,1.644-0.779,3.137-1.257,4.291c-0.169-0.608-0.348-1.182-0.53-1.739c-0.03-0.093-0.062-0.182-0.093-0.274
		c-0.17-0.507-0.346-0.994-0.525-1.46c-0.031-0.079-0.06-0.159-0.091-0.238C32.825,11.865,30.084,9.248,27.91,8.002z M41.866,29.305
		c-0.539,1.499-4.297,4.767-9.365,8.555c-0.085-0.035-0.169-0.074-0.266-0.085c-1.633-0.179-3.748-1.023-4.792-2.505
		c-0.318-0.452-0.944-0.559-1.394-0.241c-0.452,0.318-0.56,0.942-0.241,1.394c1.109,1.572,2.916,2.526,4.562,3.004
		c-3.18,2.305-6.722,4.729-10.247,7.024c-0.149-0.131-0.326-0.232-0.538-0.256c-1.025-0.112-2.349-0.635-2.994-1.549
		c-0.318-0.451-0.941-0.56-1.394-0.24c-0.451,0.318-0.559,0.942-0.24,1.394c0.734,1.041,1.888,1.696,2.982,2.059
		c-6.474,4.124-12.592,7.61-15.875,8.834c-0.022,0.008-0.042,0.014-0.057,0.02c0.004-0.017,0.01-0.037,0.018-0.059
		c0.807-2.164,2.306-5.08,4.199-8.346c0.036,0.036,0.059,0.08,0.101,0.111c0.718,0.527,1.481,0.985,2.267,1.36
		c0.139,0.066,0.286,0.098,0.431,0.098c0.373,0,0.731-0.21,0.903-0.569c0.238-0.499,0.027-1.096-0.471-1.333
		c-0.674-0.322-1.329-0.715-1.947-1.168c-0.097-0.071-0.205-0.114-0.314-0.145c2.341-3.913,5.152-8.212,7.998-12.302
		c0.381,0.991,1.01,1.993,1.946,2.654c0.175,0.124,0.376,0.183,0.576,0.183c0.314,0,0.623-0.147,0.818-0.423
		c0.318-0.451,0.211-1.075-0.24-1.394c-0.915-0.646-1.437-1.969-1.549-2.995c-0.006-0.057-0.035-0.104-0.05-0.158
		c2.214-3.111,4.395-6.021,6.341-8.453c0.477,1.648,1.432,3.461,3.007,4.572c0.175,0.124,0.376,0.183,0.576,0.183
		c0.314,0,0.624-0.147,0.818-0.423c0.318-0.452,0.211-1.075-0.24-1.394c-1.482-1.046-2.326-3.161-2.505-4.792
		c-0.005-0.043-0.028-0.078-0.038-0.119c2.251-2.678,4.035-4.473,4.92-4.791c0.49-0.176,0.998-0.264,1.529-0.264
		c0.502,0,1.026,0.079,1.576,0.237c0.44,0.994,0.842,2.074,1.208,3.224c0.024,0.075,0.048,0.149,0.071,0.225
		c0.151,0.486,0.294,0.988,0.432,1.499c0.031,0.115,0.063,0.224,0.094,0.341c0.158,0.607,0.309,1.228,0.448,1.868
		c0.009,0.042,0.03,0.079,0.044,0.12c0.014,0.039,0.024,0.08,0.043,0.117c0.005,0.011,0.009,0.022,0.015,0.033
		c0.017,0.031,0.041,0.055,0.061,0.083c0.005,0.007,0.01,0.014,0.016,0.021c0.023,0.031,0.042,0.065,0.068,0.093
		c0.006,0.006,0.01,0.013,0.016,0.019l0,0c0,0,0.001,0,0.001,0c0.003,0.003,0.006,0.005,0.009,0.007
		c0.028,0.028,0.062,0.049,0.094,0.074c0.007,0.006,0.014,0.011,0.021,0.017c0.026,0.02,0.049,0.044,0.077,0.061
		c0.011,0.007,0.023,0.011,0.035,0.017c0.023,0.013,0.048,0.022,0.072,0.033c0.023,0.01,0.045,0.016,0.068,0.025
		c0.031,0.011,0.058,0.029,0.09,0.037c0.575,0.146,1.134,0.297,1.68,0.452c0.124,0.035,0.239,0.071,0.36,0.106
		c0.428,0.124,0.85,0.25,1.259,0.379c0.105,0.033,0.204,0.066,0.307,0.1c0.426,0.138,0.844,0.278,1.247,0.421
		c0.07,0.025,0.139,0.049,0.208,0.074c0.463,0.167,0.913,0.336,1.344,0.509c0.001,0,0.002,0.001,0.003,0.001
		C42.199,27.784,42.133,28.562,41.866,29.305z M55.729,30.977c-0.566,0.815-1.388,0.995-1.978,1.001c-0.012,0-0.024,0-0.036,0
		c-1.143,0-2.302-0.62-3.034-1.624c-1.384-1.898-3.854-3.585-7.34-5.049c-0.006-0.003-0.01-0.009-0.017-0.012
		c-0.039-0.016-0.081-0.031-0.12-0.047c-0.303-0.126-0.62-0.249-0.939-0.371c-0.276-0.106-0.556-0.211-0.843-0.315
		c-0.292-0.105-0.586-0.21-0.891-0.313c-0.418-0.142-0.851-0.279-1.29-0.415c-0.165-0.051-0.315-0.105-0.483-0.155
		c0.081-0.032,0.173-0.063,0.257-0.095c0.03-0.008,0.061-0.001,0.09-0.011c3.12-1.138,8.458-2.239,13.087,0.973
		c0.239,0.167,0.474,0.359,0.709,0.55c0.113,0.091,0.228,0.169,0.34,0.266c0.71,0.617,1.399,1.35,2.056,2.213l0.127,0.169
		c0.004,0.005,0.01,0.007,0.013,0.012C55.777,28.219,56.649,29.653,55.729,30.977z"
              />
              <path
                d="M40.378,28.941c-2.046-0.78-3.945-2.182-5.642-4.167c-0.359-0.42-0.99-0.469-1.41-0.11c-0.42,0.359-0.469,0.99-0.11,1.41
		c1.917,2.242,4.087,3.836,6.45,4.737c0.117,0.044,0.237,0.066,0.356,0.066c0.403,0,0.782-0.246,0.935-0.645
		C41.153,29.716,40.894,29.138,40.378,28.941z"
              />
            </g>
          </svg>
        </div>
      )}

      <div className="relative z-10 mb-6 mr-[10%] flex items-center font-inter">
        <h1 className="mr-auto text-3xl font-light tracking-tight text-skin-adoptiontitle drop-shadow-sm md:text-5xl">
          Up for Adoption!
        </h1>
        <Link
          to={"/listing" + viewAllQuery}
          className="right-0 top-0 rounded-2xl bg-skin-viewall px-2 py-1 text-black shadow-lg transition-transform hover:scale-105 md:absolute md:px-4 md:py-2"
        >
          <h1 className="text-center text-xl text-white md:text-4xl">
            View All
          </h1>
        </Link>
      </div>

      <div className="relative">
        {isLeftArrowVisible && (
          <div
            className="md: absolute top-0 z-20 hidden translate-y-[120%] p-4 transition-transform hover:scale-110 md:block md:translate-y-[160%] md:scale-100"
            onClick={() => slide(true, 1000)}
          >
            <svg
              width="50"
              height="82"
              viewBox="0 0 50 82"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g filter="url(#filter0_d_599_2)">
                <path
                  d="M5.46447 40.5355C3.51184 38.5829 3.51184 35.4171 5.46447 33.4645L37.2843 1.64466C39.2369 -0.307961 42.4027 -0.307961 44.3553 1.64466C46.308 3.59728 46.308 6.76311 44.3553 8.71573L16.0711 37L44.3553 65.2843C46.308 67.2369 46.308 70.4027 44.3553 72.3553C42.4027 74.308 39.2369 74.308 37.2843 72.3553L5.46447 40.5355ZM16 42H9V32H16L16 42Z"
                  fill="white"
                />
              </g>
              <defs>
                <filter
                  id="filter0_d_599_2"
                  x="0"
                  y="0.180176"
                  width="49.8198"
                  height="81.6396"
                  filterUnits="userSpaceOnUse"
                  colorInterpolationFilters="sRGB"
                >
                  <feFlood floodOpacity="0" result="BackgroundImageFix" />
                  <feColorMatrix
                    in="SourceAlpha"
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                    result="hardAlpha"
                  />
                  <feOffset dy="4" />
                  <feGaussianBlur stdDeviation="2" />
                  <feComposite in2="hardAlpha" operator="out" />
                  <feColorMatrix
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
                  />
                  <feBlend
                    mode="normal"
                    in2="BackgroundImageFix"
                    result="effect1_dropShadow_599_2"
                  />
                  <feBlend
                    mode="normal"
                    in="SourceGraphic"
                    in2="effect1_dropShadow_599_2"
                    result="shape"
                  />
                </filter>
              </defs>
            </svg>
          </div>
        )}
        {isRightArrowVisible && (
          <div
            className="absolute right-10 top-0 z-20 hidden translate-y-[120%] p-4 transition-transform hover:scale-110 md:block md:translate-y-[160%]"
            onClick={() => slide(false, 1000)}
          >
            <svg
              width="50"
              height="82"
              viewBox="0 0 50 82"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g filter="url(#filter0_d_47_489)">
                <path
                  d="M44.5355 40.5355C46.4882 38.5829 46.4882 35.4171 44.5355 33.4645L12.7157 1.64466C10.7631 -0.307961 7.59728 -0.307961 5.64466 1.64466C3.69204 3.59728 3.69204 6.76311 5.64466 8.71573L33.9289 37L5.64466 65.2843C3.69204 67.2369 3.69204 70.4027 5.64466 72.3553C7.59728 74.308 10.7631 74.308 12.7157 72.3553L44.5355 40.5355ZM34 42H41V32H34V42Z"
                  fill="white"
                />
              </g>
              <defs>
                <filter
                  id="filter0_d_47_489"
                  x="0.180191"
                  y="0.180176"
                  width="49.8198"
                  height="81.6396"
                  filterUnits="userSpaceOnUse"
                  colorInterpolationFilters="sRGB"
                >
                  <feFlood floodOpacity="0" result="BackgroundImageFix" />
                  <feColorMatrix
                    in="SourceAlpha"
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                    result="hardAlpha"
                  />
                  <feOffset dy="4" />
                  <feGaussianBlur stdDeviation="2" />
                  <feComposite in2="hardAlpha" operator="out" />
                  <feColorMatrix
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
                  />
                  <feBlend
                    mode="normal"
                    in2="BackgroundImageFix"
                    result="effect1_dropShadow_47_489"
                  />
                  <feBlend
                    mode="normal"
                    in="SourceGraphic"
                    in2="effect1_dropShadow_47_489"
                    result="shape"
                  />
                </filter>
              </defs>
            </svg>
          </div>
        )}
        <div
          id="slider"
          className="no-scrollbar  overflow-x-scroll scroll-smooth"
        >
          <div
            id="slider-content"
            className="mb-10 flex min-w-[min-content] gap-6 py-10 pl-0 pr-10 md:h-[500px] md:gap-10  md:pl-10"
          >
            {listings ? (
              listings
            ) : (
              <>
                {" "}
                <PreviewListingCardSkeleton /> <PreviewListingCardSkeleton />{" "}
                <PreviewListingCardSkeleton /> <PreviewListingCardSkeleton />{" "}
                <PreviewListingCardSkeleton /> <PreviewListingCardSkeleton />{" "}
              </>
            )}
            <div className="flex items-center">
              <Link
                to={"/listing" + viewAllQuery}
                className="w-16 text-center font-inter text-skin-textsecondary"
              >
                Press view all to view the rest!
              </Link>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}
